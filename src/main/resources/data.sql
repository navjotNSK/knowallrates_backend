-- Insert default assets (only if not exists)
INSERT INTO assets (name, display_name, is_active, created_at)
SELECT * FROM (
    SELECT 'gold' as name, 'Gold' as display_name, true as is_active, CURRENT_TIMESTAMP as created_at
    UNION ALL
    SELECT 'silver', 'Silver', true, CURRENT_TIMESTAMP
    UNION ALL
    SELECT 'bitcoin', 'Bitcoin', true, CURRENT_TIMESTAMP
    UNION ALL
    SELECT 'altcoin', 'Altcoin', true, CURRENT_TIMESTAMP
) AS tmp
WHERE NOT EXISTS (
    SELECT 1 FROM assets WHERE name = tmp.name
);

-- Insert sample gold rates data (only if not exists)
INSERT INTO gold_rates (date, gold_22k, gold_24k, created_at, updated_at)
SELECT * FROM (
    SELECT '2024-01-01' as date, 5800.00 as gold_22k, 6300.00 as gold_24k, CURRENT_TIMESTAMP as created_at, CURRENT_TIMESTAMP as updated_at
    UNION ALL
    SELECT '2024-01-02', 5825.00, 6325.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
    UNION ALL
    SELECT '2024-01-03', 5850.00, 6350.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
    UNION ALL
    SELECT '2024-01-04', 5875.00, 6375.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
    UNION ALL
    SELECT '2024-01-05', 5900.00, 6400.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
    UNION ALL
    SELECT CURRENT_DATE - 10, 5750.00, 6250.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
    UNION ALL
    SELECT CURRENT_DATE - 9, 5775.00, 6275.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
    UNION ALL
    SELECT CURRENT_DATE - 8, 5800.00, 6300.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
    UNION ALL
    SELECT CURRENT_DATE - 7, 5825.00, 6325.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
    UNION ALL
    SELECT CURRENT_DATE - 6, 5850.00, 6350.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
    UNION ALL
    SELECT CURRENT_DATE - 5, 5875.00, 6375.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
    UNION ALL
    SELECT CURRENT_DATE - 4, 5900.00, 6400.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
    UNION ALL
    SELECT CURRENT_DATE - 3, 5925.00, 6425.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
    UNION ALL
    SELECT CURRENT_DATE - 2, 5950.00, 6450.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
    UNION ALL
    SELECT CURRENT_DATE - 1, 5975.00, 6475.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
    UNION ALL
    SELECT CURRENT_DATE, 6000.00, 6500.00, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP
) AS tmp
WHERE NOT EXISTS (
    SELECT 1 FROM gold_rates WHERE date = tmp.date
);

-- Insert sample predictions (only if not exists)
INSERT INTO gold_predictions (prediction_date, predicted_22k, predicted_24k, confidence, trend, created_at)
SELECT * FROM (
    SELECT CURRENT_DATE + 1 as prediction_date, 6025.00 as predicted_22k, 6525.00 as predicted_24k, 85 as confidence, 'up' as trend, CURRENT_TIMESTAMP as created_at
    UNION ALL
    SELECT CURRENT_DATE + 2, 6050.00, 6550.00, 78, 'up', CURRENT_TIMESTAMP
) AS tmp
WHERE NOT EXISTS (
    SELECT 1 FROM gold_predictions WHERE prediction_date = tmp.prediction_date
);
